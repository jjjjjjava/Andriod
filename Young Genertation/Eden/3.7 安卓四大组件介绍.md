[toc]

Android四大组件分别是Activity、Service、Content Provider和Broadcast Receiver。它们共同构成了Android应用程序的基础结构，允许应用程序在设备上提供丰富的功能和交互。让我们详细了解每一个组件。

### 1. Activity

**Activity** 是应用程序的基本组成部分之一，表示单一的屏幕或用户界面。每个Activity负责处理用户与应用程序的交互。

#### Activity的生命周期

Activity的生命周期方法允许开发者在特定时间执行操作，比如初始化界面、保存数据等。主要的生命周期方法包括：

- `onCreate(Bundle)`：初始化Activity，在此设置用户界面。
- `onStart()`：Activity即将可见时调用。
- `onResume()`：Activity开始与用户交互时调用。
- `onPause()`：Activity将要进入后台时调用，通常用于保存数据。
- `onStop()`：Activity不再可见时调用。
- `onDestroy()`：Activity即将被销毁时调用。

#### Activity的状态

Activity有四种基本状态：

1. **运行状态**：Activity在前台，用户可以与其交互。
2. **暂停状态**：Activity部分可见，但失去焦点（例如，新的Activity以对话框形式覆盖当前Activity）。
3. **停止状态**：Activity完全不可见，保留所有状态和成员信息。
4. **销毁状态**：Activity从内存中移除，必须重新启动并恢复到以前的状态。

### 2. Service

**Service** 是在后台执行长时间运行操作的组件，不提供用户界面。它主要用于执行需要保持运行的任务。

#### Service的类型

Service分为两种类型：

- **Started Service**：通过调用`startService()`启动，通常会一直运行，直到通过`stopSelf()`或`stopService()`停止。
- **Bound Service**：通过调用`bindService()`启动，客户端和Service绑定在一起，客户端可以与Service通信。当所有绑定客户端都解除绑定时，Service会被销毁。

### 3. Content Provider

（1）android平台提供了Content Provider使一个应用程序的指定数据集提供给其他应用程序。其他应用可以通过ContentResolver类从该内容提供者中获取或存入数据。

（2）只有需要在多个应用程序间共享数据是才需要内容提供者。例如，通讯录数据被多个应用程序使用，且必须存储在一个内容提供者中。它的好处是统一数据访问方式。

（3）ContentProvider实现数据共享。ContentProvider用于保存和获取数据，并使其对所有应用程序可见。这是不同应用程序间共享数据的唯一方式，因为android没有提供所有应用共同访问的公共存储区。

（4）开发人员不会直接使用ContentProvider类的对象，大多数是通过ContentResolver对象实现对ContentProvider的操作。

（5）ContentProvider使用URI来唯一标识其数据集，这里的URI以content://作为前缀，表示该数据由ContentProvider来管理。

> 总结：负责数据存取，常用于APP进数据共享，跨进程数据存取等....比如读取相册，读取联系人，都是ContentProvider来实现的

### 4. Broadcast Receiver

（1）你的应用可以使用它对外部事件进行过滤，只对感兴趣的外部事件(如当电话呼入时，或者数据网络可用时)进行接收并做出响应。广播接收器没有用户界面。然而，它们可以启动一个activity或serice来响应它们收到的信息，或者用NotificationManager来通知用户。通知可以用很多种方式来吸引用户的注意力，例如闪动背灯、震动、播放声音等。一般来说是在状态栏上放一个持久的图标，用户可以打开它并获取消息。

（2）广播接收者的注册有两种方法，分别是程序动态注册和AndroidManifest文件中进行静态注册。

（3）动态注册广播接收器特点是当用来注册的Activity关掉后，广播也就失效了。静态注册无需担忧广播接收器是否被关闭，只要设备是开启状态，广播接收器也是打开着的。也就是说哪怕app本身未启动，该app订阅的广播在触发时也会对它起作用。

（4）Android还有一套本地广播机制，就是为了解决广播的安全问题，因为系统全局广播可以被其他任何程序接收到，一些携带关键性数据的广播就可能被其他应用程序截获。而本地广播机制发出的广播只能在应用程序的内部进行传递，并且只能接收来自本应用程序的广播，这样就不存在安全问题了。

注册还是能够正常接收的。

> 总结：负责页面间通信，系统和APP通信，APP和APP通信，比如监听网络连接状态变化，就是通过BroadcastReceiver广播接收者来实现的

### 5. Intent介绍

Intent是Android系统用来抽象描述要执行的一个操作，也可以在不同组件之间进行沟通和消息传递。 

显式的Intent就是你已经知道要启动的组件名称，比如某个Activity的包名和类名，在Intent中明确的指定了这个组件(Activity)，一般来说这种Intent经常用在一个应用中，因为你已经明确的知道要启动的组件名称。

 隐式的Intent就是你不知道要启动的组件名称，只知道一个Intent动作要执行，比如：拍照，录像，查看地图。一般来说这种Intent用在不同的应用之间传递信息。



**Intent** 是用于在不同组件之间传递数据和启动组件的机制。它可以用于启动Activity、Service和广播等。

## 总结

我初步理解：Activity和Service。这两个一个负责表示屏幕，一个负责执行后台应用。Content Provider用于当多个程序需要使用当前应用程序的数据时，这个应用程序就是一个Content Provider，比如：相册。BroadCast Receiver用于过滤外部事件，比如当蓝牙连接蓝牙耳机时，某个程序会跳出弹窗。Intent表示要执行的一个操作，用于启动activity，serverice等。



Android的四大组件各有其用途，Activity负责展示用户界面，Service负责处理后台任务，Content Provider用于数据共享，Broadcast Receiver则负责监听和处理广播消息。Intent是用于在这些组件之间传递数据和启动操作的媒介。通过这些组件，Android应用程序能够实现丰富的功能和复杂的交互。